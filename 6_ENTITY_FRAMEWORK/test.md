# Doom Emacs / Evil / Treemacs — Cheatsheet (только хоткеи)

> Почти всё ниже — в **normal mode** (`Esc` сначала).

---

## Режимы

- `Esc` — в normal mode (выход из вставки)
- `i` — вставка перед курсором
- `a` — вставка после курсора
- `v` — visual-режим (выделение)

---

## Файл / буферы / табы

### Файлы

- `C-x C-f` — открыть файл (ввести путь → `Enter`)
- `:w` — сохранить файл
- `C-x C-s` — сохранить файл
- `SPC f s` — сохранить файл
- `SPC b d` — закрыть текущий файл (kill buffer)
- `:bd` — закрыть текущий файл (buffer delete)
- `C-x k` → `Enter` — закрыть текущий файл

### Буферы (открытые файлы)

- `SPC b b` — список буферов → выбрать → `Enter`
- `SPC b n` — следующий буфер
- `SPC b p` — предыдущий буфер
- `C-^` (Ctrl+6) — переключиться на предыдущий буфер (туда-сюда)

### Табы

- `g t` — следующий таб
- `g T` — предыдущий таб

---

## Undo / Redo

- `u` — undo
- `C-r` — redo

---

## Навигация по файлу (vim-движок)

- `h` / `j` / `k` / `l` — влево / вниз / вверх / вправо
- `w` / `b` — вперёд / назад по словам
- `0` — начало строки
- `$` — конец строки
- `gg` — начало файла
- `G` — конец файла
- `C-d` — полэкрана вниз
- `C-u` — полэкрана вверх
- `C-f` — экран вниз
- `C-b` — экран вверх

---

## Поиск и подсветка

### Внутри файла

- `/текст` → `Enter` — поиск вперёд
- `n` / `N` — следующее / предыдущее совпадение
- `*` — найти слово под курсором (вперёд)
- `#` — найти слово под курсором (назад)
- `g*` — найти подстроку под курсором (вперёд)
- `:noh` → `Enter` — убрать подсветку поиска

### По директории / проекту

- `SPC s d` — поиск по **текущей директории**
- `SPC /` — поиск по **проекту**

---

## Go / LSP навигация

(курсор на идентификаторе, normal mode)

- `SPC s i` — список функций/символов в файле (imenu) → выбрать → `Enter`
- `gd` — перейти к определению
- `C-o` — назад по истории переходов
- `K` — показать документацию / информацию под курсором
- `] g` — следующая ошибка/варнинг
- `[ g` — предыдущая ошибка/варнинг

---

## Сплиты (окна Emacs)

### Создание

- `C-w v` — вертикальный сплит (лево/право)
- `C-w s` — горизонтальный сплит (верх/низ)
- `C-x 3` — вертикальный сплит
- `C-x 2` — горизонтальный сплит

### Переключение между окнами

- `C-w h` — влево
- `C-w l` — вправо
- `C-w k` — вверх
- `C-w j` — вниз
- `C-w w` — следующее окно по кругу
- `C-x o` — следующее окно по кругу

### Закрытие / выравнивание

- `C-w c` — закрыть текущее окно
- `C-x 0` — закрыть текущее окно
- `C-w o` — оставить только текущее окно
- `C-x 1` — оставить только текущее окно
- `C-w =` — выровнять размеры всех окон

---

## Treemacs

- `SPC o p` — показать / спрятать Treemacs
- В Treemacs:
  - `j` / `k` — вверх / вниз по дереву
  - `RET` — открыть файл
  - `o` — открыть файл (аналогично)
- Переключиться в окно Treemacs:
  - `SPC b b` → выбрать буфер `*Treemacs*` → `Enter`
- Вернуться в файл:
  - `C-x o` / `C-w h/j/k/l` или открыть файл из дерева (`RET`)

---

## vterm

- `M-x vterm` → `Enter` — открыть vterm
- `exit` → `Enter` — закрыть шелл внутри vterm
- `C-x k` → `Enter` — закрыть буфер vterm

---

## Перенос строк

- `M-x visual-line-mode` — включить/выключить перенос строк по словам в текущем буфере

---

## Копирование / вставка (внутри Emacs)

В normal mode:

- `yy` — копировать текущую строку
- `3yy` — копировать 3 строки (пример)
- `v` → выделить → `y` — копировать выделение
- `p` — вставить после
- `P` — вставить перед
